<% content_for :title, "#{@book.title} - #{@chapter.title}" %>

<div
  class="p-6 h-screen max-w-7xl mx-auto flex flex-col"
  data-controller="chapter-reader text-selection-explain font-size"
>
  <!-- 顶部导航 -->
  <%= render "chapters/top_nav" %>

  <!-- 章节标题 -->
  <%= render "chapters/chapter_header", chapter: @chapter %>

  <!-- 阅读内容区域 -->
  <%= render "chapters/chapter_content", chapter: @chapter %>

  <!-- 底部导航 -->
  <%= render "chapters/chapter_nav", book: @book, prev: @prev, next_chapter: @next %>

  <!-- 目录侧边栏 -->
  <%= render "chapters/toc_sidebar", book: @book, chapters: @book.chapters, current_chapter: @chapter %>

  <!-- 短语解释模态框 -->
  <%= render "shared/phrase_explain_modal" %>
</div>
